<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <link rel="shortcut icon" href="icon.png" type="image/x-icon">
    <meta name="description" content="">

    <title>Mariage Rox & Louis</title>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="flipdown.css">
    <link rel="stylesheet" href="assets/web/assets/mobirise-icons2/mobirise2.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="assets/dropdown/css/style.css">
    <link rel="stylesheet" href="assets/socicon/css/styles.css">
    <link rel="stylesheet" href="assets/theme/css/style.css">
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="styleIndex.css">

    <link rel="preload"
        href="https://fonts.googleapis.com/css?family=Lexend:100,200,300,400,500,600,700,800,900&display=swap"
        as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Lexend:100,200,300,400,500,600,700,800,900&display=swap">
    </noscript>
    <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css">
    <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
    <script type="text/javascript" src="flipdown.min.js"></script>
</head>

<body>
    <section data-bs-version="5.1" class="menu menu2 cid-sFF0ciwnEL fadeInDown first" once="menu" id="menu2-0">
        <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
            <div class="container-fluid" style="display: flex; flex-direction: row; width: 100%;">
                <div class="navbar-brand" style="display: flex; flex-direction: row; width: 50%;">
                    <span class="navbar-caption-wrap"><img style="width: 16%;" src="icon.png">
                        <div class="text-white display-7">Roxanne &amp; Louis 2023</div>
                    </span>
                </div>
                <span style="float: right;"><a class="nav-link link text-white display-4" id="btnRetour"><u>Retour</u></a></span>
            </div>
        </nav>
    </section>

    <section data-bs-version="5.1" class="form7 cid-twQEQDZ7TC header11 cid-sFF0SGinka fadeInDown first" id="form7-3"
        style="background-color: #f0ece2; display:flex;">
        <div class="container fadeIn second">
            <div class="mbr-section-head">
                <h3 class="mbr-section-title mbr-fonts-style align-center mb-0 display-2">
                    <strong id="title">Confirmation</strong>
                </h3>
            </div>
            <div class="row justify-content-center mt-4" id="form1">
                <div class="col-lg-8 mx-auto mbr-form"
                    style="margin-left: auto; margin-right: auto; background-color: white; border-radius: 5px; padding:5%;">
                    <p class="mbr-text mbr-fonts-style mb-3 display-7">Veuillez remplir le questionnaire ci-dessous
                        afin de confirmer votre présence.
                    </p>
                    <p id="lbError1" class="mbr-text mbr-fonts-style mb-3 display-7 fadeIn"
                        style="display: none; color: red;">
                        Veuillez remplir tout les champs avant de continuer svp!
                    </p>
                    <div class="dragArea row">
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" data-for="name">
                            <input type="text" name="name" placeholder="Nom" data-form-field="name" class="form-control"
                                value="" id="txtNom1">
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" data-for="email">
                            <input type="email" name="email" placeholder="Courriel" data-form-field="email"
                                class="form-control" value="" id="txtEmail1">
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" style="display: flex;"
                            data-for="email">
                            <p class="mbr-text mbr-fonts-style mb-3 display-7" style="width: 70%; margin-top: 10px;">Je
                                serai présent(e)</p>
                            <select class="form-control" aria-label=".form-select-lg example" style="width: 30%;"
                                id="selectPresent">
                                <option value="1" selected>Oui</option>
                                <option value="2">Non</option>
                            </select>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3 divQuestionOui fadeInDown"
                            style="display: flex;" data-for="email">
                            <p class="mbr-text mbr-fonts-style mb-3 display-7" style="width: 70%; margin-top: 10px;">Je
                                serai accompagné(e)</p>
                            <select class="form-control" id="selectAccompagnateur" aria-label=".form-select-lg example"
                                style="width: 30%;">
                                <option value="1" selected>Oui</option>
                                <option value="2">Non</option>
                            </select>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3 divQuestionOui fadeInDown">
                            <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" style="display: flex;"
                                data-for="email">
                                <p class="mbr-text mbr-fonts-style mb-3 display-7"
                                    style="width: 70%; margin-top: 10px;">Pour le repas, je choisis l'option
                                    végétarienne</p>
                                <select class="form-control" id="selectVege1" aria-label=".form-select-lg example"
                                    style="width: 30%;">
                                    <option value="1">Oui</option>
                                    <option value="2" selected>Non</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3">
                            <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3 divQuestionOui fadeInDown"
                                style="display: flex;" data-for="email">
                                <p class="mbr-text mbr-fonts-style mb-3 display-7"
                                    style="width: 70%; margin-top: 10px;">J'ai des allergies</p>
                                <select class="form-control" aria-label=".form-select-lg example" id="selectAllergy"
                                    style="width: 30%;">
                                    <option value="1">Oui</option>
                                    <option value="2" selected>Non</option>
                                </select>
                            </div>
                        </div>
                        <div id="divAllergie" class="col-lg-12 col-md-12 col-sm-12 form-group mb-3 fadeInDown"
                            style="display: none;">
                            <textarea class="form-control" id="txtAllergy1" placeholder="Précisez" rows="3"></textarea>
                        </div>

                        <div class="col-auto mbr-section-btn align-center" style="width: 100%;">
                            <button type="button" id="btnSubmitForm1" class="btn btn-primary display-4"
                                style="float: right;">Suivant</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center mt-4 roll-in-blurred-left" id="form2" style="display: none;">
                <div class="col-lg-8 mx-auto mbr-form"
                    style="margin-left: auto; margin-right: auto; background-color: white; border-radius: 5px; padding:5%;">
                    <p class="mbr-text mbr-fonts-style mb-3 display-7">Veuillez remplir le questionnaire ci-dessous pour
                        votre invité.</p>
                    <p id="lbError2" class="mbr-text mbr-fonts-style mb-3 display-7 fadeIn"
                        style="display: none; color: red;">
                        Veuillez remplir tout les champs avant de continuer svp!
                    </p>
                    <div class="dragArea row">
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" data-for="name">
                            <input type="text" id="txtNom2" name="name" placeholder="Nom de l'invité"
                                data-form-field="name" class="form-control" value="" id="name-form7-3">
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" style="display: flex;"
                            data-for="email">
                            <p class="mbr-text mbr-fonts-style mb-3 display-7" style="width: 70%; margin-top: 10px;">
                                Pour le repas, l'invité choisit l'option végétarienne</p>
                            <select class="form-control" id="selectVege2" aria-label=".form-select-lg example"
                                style="width: 30%;">
                                <option value="1">Oui</option>
                                <option value="2" selected>Non</option>
                            </select>
                        </div>

                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3">
                            <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3 divQuestionOui2"
                                style="display: flex;" data-for="email">
                                <p class="mbr-text mbr-fonts-style mb-3 display-7"
                                    style="width: 70%; margin-top: 10px;">L'invité a des allergies</p>
                                <select class="form-control" aria-label=".form-select-lg example" id="selectAllergy2"
                                    style="width: 30%;">
                                    <option value="1">Oui</option>
                                    <option value="2" selected>Non</option>
                                </select>
                            </div>
                        </div>
                        <div id="divAllergie2" class="col-lg-12 col-md-12 col-sm-12 form-group mb-3 fadeInDown"
                            style="display: none;">
                            <textarea class="form-control" id="txtAllergy2" placeholder="Précisez" rows="3"></textarea>
                        </div>

                        <div class="col-auto mbr-section-btn align-center"
                            style="display: flex; flex-direction: row; width: 100%; justify-content: space-between;">
                            <button type="button" id="btnBackForm2" class="btn btn-primary display-4">Précédent</button>
                            <button type="button" id="btnSubmitForm2" class="btn btn-primary display-4">Suivant</button>
                        </div>
                    </div>
                </div>
            </div>


            <div class="row justify-content-center mt-4 roll-in-blurred-left" id="form3" style="display: none;">
                <div class="col-lg-8 mx-auto mbr-form"
                    style="margin-left: auto; margin-right: auto; background-color: white; border-radius: 5px; padding:5%;">

                    <p class="mbr-text mbr-fonts-style mb-3 display-7">
                        Aidez-nous à agrémenter la soirée en proposant votre chanson préférée !
                    </p>

                    <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" data-for="name">
                        <input type="text" name="name" placeholder="Titre de la chanson" data-form-field="name"
                            class="form-control" value="" id="txtSong1">
                    </div>
                    <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" data-for="email">
                        <input type="email" name="email" placeholder="Artiste" data-form-field="email"
                            class="form-control" value="" id="txtArtist1">
                    </div>

                    <div id="divSong2"
                        style="display: none; border-top:5px solid #800020; margin-top: 3%; padding-top: 3%; flex-direction: column;">
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" data-for="name">
                            <input type="text" name="name" placeholder="Titre de la chanson" data-form-field="name"
                                class="form-control" value="" id="txtSong2">
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 form-group mb-3" data-for="email">
                            <input type="email" name="email" placeholder="Artiste" data-form-field="email"
                                class="form-control" value="" id="txtArtist2">
                        </div>
                    </div>


                    <div class="col-auto mbr-section-btn align-center"
                        style="display: flex; flex-direction: row; width: 100%; justify-content: space-between;">
                        <button type="button" id="btnBackForm3" class="btn btn-primary display-4"
                            style="width: 25%;">Précédent</button>
                        <button type="button" id="btnSubmitForm3" class="btn btn-primary display-4"
                            style="width: 25%;">Envoyer</button>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center mt-4 roll-in-blurred-left" id="form4" style="display: none;">
                <div class="col-lg-8 mx-auto mbr-form"
                    style="margin-left: auto; margin-right: auto; background-color: white; border-radius: 5px; padding:5%;">

                    <p class="mbr-text mbr-fonts-style mb-3 display-7"> Un courriel de confirmation a été envoyé à <span
                            id="spanEmail"></span></p>

                    <button type="button" id="btnBackSite" class="btn btn-primary display-4">Retourner au site</button>

                </div>
            </div>

        </div>
    </section>
    <script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/smoothscroll/smooth-scroll.js"></script>
    <script src="assets/ytplayer/index.js"></script>
    <script src="assets/dropdown/js/navbar-dropdown.js"></script>
    <script src="assets/theme/js/script.js"></script>
    <script src="assets/formoid/formoid.min.js"></script>


    <section data-bs-version="5.1" class="footer7 cid-sFF3CYc3p7 fadeIn third" once="footers" id="footer7-9">

        <div class="container">
            <div class="media-container-row align-center mbr-white">
                <div class="col-12">
                    <p class="mbr-text mb-0 mbr-fonts-style display-7">
                        © Roxanne &amp; Louis 2023</p>
                </div>
            </div>
        </div>
    </section>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2.4.0/dist/email.min.js">
    </script>

    <script type="text/javascript">
        (function () {
            // https://dashboard.emailjs.com/admin/account
            emailjs.init("co5wmnqNtXfiRYLq5"); //use your USER ID

            const btnSubmitForm1 = document.getElementById("btnSubmitForm1");

            const btnBackForm2 = document.getElementById("btnBackForm2");
            const btnSubmitForm2 = document.getElementById("btnSubmitForm2");

            const txtAllergy1 = document.getElementById("txtAllergy1");
            const txtEmail1 = document.getElementById("txtEmail1");
            const txtNom1 = document.getElementById("txtNom1");
            const selectAccompagnateur = document.getElementById("selectAccompagnateur");
            const selectAllergy = document.getElementById("selectAllergy");
            const selectPresent = document.getElementById("selectPresent");
            const selectVege1 = document.getElementById("selectVege1");

            const txtAllergy2 = document.getElementById("txtAllergy2");
            const txtNom2 = document.getElementById("txtNom2");
            const selectAllergy2 = document.getElementById("selectAllergy2");
            const selectVege2 = document.getElementById("selectVege2");

            const txtChanson1 = document.getElementById("txtSong1");
            const txtArtiste1 = document.getElementById("txtArtist1");
            const txtChanson2 = document.getElementById("txtSong2");
            const txtArtiste2 = document.getElementById("txtArtist2");

            let formBack = "form1";
            let title = "Confirmation";

            selectPresent.addEventListener("change", () => {
                let isPresent = selectPresent.value == "1"

                document.querySelectorAll(".divQuestionOui").forEach(element => {
                    hide(element, !isPresent);
                });

                btnSubmitForm1.innerText = isPresent ? "Suivant" : "Envoyer"
            });

            selectAllergy.addEventListener("change", () => {
                document.getElementById("divAllergie").style.display = (selectAllergy.value === "2" ? "none" : "block");
            });

            selectAllergy2.addEventListener("change", () => {
                document.getElementById("divAllergie2").style.display = (selectAllergy2.value === "2" ? "none" : "block");
            });

            btnSubmitForm1.addEventListener("click", async () => {
                let isGoing = selectPresent.value == "1";
                let thereSomeoneElse = selectAccompagnateur.value == "1"
                let isVege = selectAllergy.value == "1"
                let nom = txtNom1.value;
                let email = txtEmail1.value;

                let isNotOk = true;

                if (nom !== "" && email !== "") {
                    isNotOk = false;

                    if (isVege)
                        isNotOk = txtAllergy1.value === "";
                }

                lbError1.style.display = (isNotOk ? "flex" : "none");

                if (!isNotOk) {
                    formBack = "form1";
                    title = "Confirmation";

                    document.getElementById("spanEmail").innerHTML = email;

                    if (isGoing) {
                        if (thereSomeoneElse)
                            ShowForm("form1", "form2", "Confirmation invité");
                        else {
                            ShowForm("form1", "form3", "Demandes spéciales");
                            hide(document.getElementById("divSong2"), true);
                        }
                    } else {
                        sendInfo();
                    }
                }
            });

            btnBackForm2.addEventListener("click", () => {
                ShowForm("form2", "form1", title);
            });

            btnSubmitForm2.addEventListener("click", () => {
                let isVege = selectAllergy2.value == "1"
                let nom = txtNom2.value;

                let isNotOk = true;

                if (nom !== "") {
                    isNotOk = false;

                    if (isVege)
                        isNotOk = txtAllergy2.value === "";
                }

                lbError2.style.display = (isNotOk ? "flex" : "none");

                if (!isNotOk) {
                    formBack = "form2";
                    title = "Confirmation invité";

                    document.getElementById("divSong2").style.display = "block";

                    ShowForm("form2", "form3", "Demandes spéciales");
                    hide(document.getElementById("divSong2"), false);
                }
            });

            btnBackForm3.addEventListener("click", () => {
                ShowForm("form3", formBack, title);
            });

            btnSubmitForm3.addEventListener("click", () => {
                formBack = "form3"
                sendInfo();
            });

            const ShowForm = async (divToHide, divToShow, title) => {
                document.getElementById("title").innerHTML = title;
                document.getElementById(divToHide).classList.add("roll-in-blurred-right");

                await new Promise(resolve => setTimeout(resolve, 500));

                hide(document.getElementById(divToShow), false);
                hide(document.getElementById(divToHide), true);

                await new Promise(resolve => setTimeout(resolve, 1000));

                document.getElementById(divToHide).classList.remove("roll-in-blurred-right");
                document.getElementById(divToShow).classList.remove("roll-in-blurred-letf");
            };

            const hide = (elements, isHide = true) => {
                elements = elements.length ? elements : [elements];
                for (var index = 0; index < elements.length; index++) {
                    if (elements[index] && elements[index] !== undefined) {
                        elements[index].style.display = isHide ? 'none' : 'flex';
                        elements[index].style.visibility = isHide ? "hidden" : "visible";
                    }
                }
            }

            const sendInfo = async () => {
                var templateParams = {
                    nom: txtNom1.value,
                    email: txtEmail1.value,
                    present: selectPresent.value == "1" ? "Oui" : "Non",
                    autrePersonne: selectAccompagnateur.value == "1" ? "Oui" : "Non",
                    isVege: selectVege1.value == "1" ? "Oui" : "Non",
                    isAllergy: selectAllergy.value == "1" ? "Oui" : "Non",
                    allergy: txtAllergy1.value,
                    nom2: txtNom2.value,
                    isVege2: selectVege2.value == "1" ? "Oui" : "Non",
                    isAllergy2: selectAllergy2.value == "1" ? "Oui" : "Non",
                    allergy2: txtAllergy2.value,
                    song1: txtChanson1.value,
                    song2: txtChanson2.value,
                    artiste1: txtArtiste1.value,
                    artiste2: txtArtiste2.value,
                };

                emailjs.send('service_98bfdrl', 'template_q9kzfv3', templateParams)
                    .then(function (response) { 
                        sendConfirmation();
                        ShowForm(formBack, "form4", "Merci de votre réponse !");
                    }, function (error) {
                        console.log('FAILED...', error);
                    });
            };

            const sendConfirmation = async () =>{
                var templateParams = {
                    nom: txtNom1.value,
                    email: txtEmail1.value
                };

                emailjs.send('service_98bfdrl', 'template_ro839wp', templateParams) //Insert your email service ID and email template ID
                    .then(function (response) {  
                        console.log('success...', response);
                    }, function (error) {
                        console.log('FAILED...', error);
                    });
            };

            document.getElementById("btnRetour").addEventListener("click", () =>{ 
                window.location='http://www.roxannelouis2023.com';
            }); 

            document.getElementById("btnBackSite").addEventListener("click", () =>{ 
                window.location='http://www.roxannelouis2023.com';
            }); 
        })();
    </script>


    <script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/smoothscroll/smooth-scroll.js"></script>
    <script src="assets/ytplayer/index.js"></script>
    <script src="assets/dropdown/js/navbar-dropdown.js"></script>
    <script src="assets/theme/js/script.js"></script>


</body>

</html>